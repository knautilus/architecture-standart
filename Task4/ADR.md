### <a name="_b7urdng99y53"></a>**Название задачи: Передача ставок в кол-центр**

### <a name="_hjk0fkfyohdk"></a>**Автор: Утянский А.Ю.**

### <a name="_uanumrh8zrui"></a>**Дата: 02.08.2025**

### <a name="_3bfxc9a45514"></a>**Функциональные требования**

|**№**|**Действующие лица или системы**|**Use Case**|**Описание**|
| :-: | :- | :- | :- |
| UC1 | Бэк-офис, АБС | Указание ставок | Менеджер бэк-офиса указывает ставки в АБС. Сервис репликации обновляет данные по ставкам в базе данных внутреннего кол-центра. Раз в сутки сервис обновления SFTP-хранилища обновляет файл со ставками |
| UC2 | Кол-центр | Просмотр ставок | Сотрудники кол-центра банка просматривают ставки в системе кол-центра |
| UC3 | Партнерский кол-центр | Просмотр ставок | Сотрудники партнерского кол-центра просматривают ставки, загрузив файл со ставками из SFTP-хранилища |

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

|**№**|**Требование**|
| :-: | :- |
| 1 | Доступность: 99.9% |
| 2 | Обновление ставок не реже одного раза в сутки |
| 3 | Обмен данными возможен только через файлы |
| 4 | Передача файлов должна осуществляться по защищеным каналам связи |

### <a name="_qmphm5d6rvi3"></a>**Решение**

[Визуализация контекста](C4_Context.puml)

[Визуализация контейнеров](C4_Container.puml)

- Файлы со ставками для партнерского кол-центра будут записываться в SFTP-хранилище.
- Для обновления SFTP-хранилища будет разработан отдельный сервис на CRON. Файлы со ставками будут передаваться ежедневно, так как ставки не меняются чаще.
- Сервис репликации раз в сутки собирает данные по ставкам из БД АБС и сохраняет их в БД кол-центра.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**

- Можно использовать Email для передачи ставок в партнерский кол-центр, но это менее безопасно.
- Файл со ставками можно было бы обновлять вручную, но это увеличивает риск возникновения ошибок.

**Недостатки, ограничения, риски**

- Настройка и поддержка SFTP требует дополнительной экспертизы.
- Возможны задержки в обновлении ставок из-за сетевых проблем или сбоях в SFTP-сервере.

